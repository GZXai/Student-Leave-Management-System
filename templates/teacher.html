<!DOCTYPE html>
<html>
<head>
    <title>教师审批</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <h1>待审批请假申请</h1>
    <a href="/logout" class="logout-btn">退出登录</a>
    <table>
        <tr>
            <th>学生ID</th>
            <th>请假时间</th>
            <th>请假理由</th>
            <th>AI审核</th>
            <th>操作</th>
        </tr>
        {% for req in requests %}
        <tr>
            <td>{{ req.student_id }}</td>
            <td>{{ req.start_date.strftime('%Y-%m-%d') }}至{{ req.end_date.strftime('%Y-%m-%d') }}</td>
            <td class="reason-cell">{{ req.reason }}</td>
            <td class="{{ 'ai-valid' if req.ai_check == 'valid' else 'ai-invalid' }}">
                {{ req.ai_check|upper }}
            </td>
            <td>
                <a href="/approve/{{ req.id }}" class="approve-btn">批准</a>
                <a href="/reject/{{ req.id }}" class="reject-btn">拒绝</a>
            </td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
